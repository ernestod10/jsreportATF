{"key":"core-migrated-folders","value":"true","creationDate":{"$$date":1596605811756},"modificationDate":{"$$date":1596605811756},"shortid":"55Aff7~","_id":"TX1ZMSRjw2tFjWzx","$entitySet":"settings","$$etag":1596605811758}
{"key":"sample-created","value":"true","creationDate":{"$$date":1596605811787},"modificationDate":{"$$date":1596605811787},"shortid":"LC3WjqL","_id":"PAoTZFEIMDjfsd5h","$entitySet":"settings","$$etag":1596605811789}
{"key":"requestsLog","value":"[{\"template\":{\"shortid\":\"Hkev7gvMMw\"},\"timestamp\":1610493249080,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 4 (user: null)\",\"timestamp\":1610493245799},{\"level\":\"info\",\"message\":\"Rendering template { name: top-productos, recipe: chrome-pdf, engine: handlebars, preview: true }\",\"timestamp\":1610493245800},{\"level\":\"debug\",\"message\":\"Data item not defined for this template.\",\"timestamp\":1610493245801},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1610493245801},{\"level\":\"debug\",\"message\":\"Executing script top-script using dedicated-process strategy\",\"timestamp\":1610493245813},{\"level\":\"debug\",\"message\":\"null\",\"timestamp\":1610493246344},{\"level\":\"debug\",\"message\":\"Base url not specified, skipping its injection.\",\"timestamp\":1610493246349},{\"level\":\"debug\",\"message\":\"Rendering engine handlebars using dedicated-process strategy\",\"timestamp\":1610493246350},{\"level\":\"debug\",\"message\":\"Compiled template not found in the cache, compiling\",\"timestamp\":1610493246553},{\"level\":\"debug\",\"message\":\"Executing recipe chrome-pdf\",\"timestamp\":1610493246571},{\"level\":\"debug\",\"message\":\"Converting with chrome HeadlessChrome/79.0.3945.0 using dedicated-process strategy\",\"timestamp\":1610493247025},{\"level\":\"debug\",\"message\":\"Page request: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/a831136f-67ed-46fe-93c5-d0d4cc6acc2e-chrome-pdf.html\",\"timestamp\":1610493247112},{\"level\":\"debug\",\"message\":\"Page request finished: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/a831136f-67ed-46fe-93c5-d0d4cc6acc2e-chrome-pdf.html\",\"timestamp\":1610493247132},{\"level\":\"debug\",\"message\":\"Page request: GET (stylesheet) https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1610493247133},{\"level\":\"debug\",\"message\":\"Page request finished: GET (stylesheet) 200 https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1610493248577},{\"level\":\"debug\",\"message\":\"Running chrome with params {\\\"printBackground\\\":true,\\\"margin\\\":{}}\",\"timestamp\":1610493248625},{\"level\":\"debug\",\"message\":\"Skipping storing report.\",\"timestamp\":1610493249079},{\"level\":\"info\",\"message\":\"Rendering request 4 finished in 3281 ms\",\"timestamp\":1610493249080}]},{\"template\":{\"shortid\":\"SkgcEsg-GP\"},\"timestamp\":1610492819848,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 1 (user: null)\",\"timestamp\":1610492815116},{\"level\":\"info\",\"message\":\"Rendering template { name: FiestaMes, recipe: chrome-pdf, engine: handlebars, preview: true }\",\"timestamp\":1610492815117},{\"level\":\"debug\",\"message\":\"Data item not defined for this template.\",\"timestamp\":1610492815128},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1610492815129},{\"level\":\"debug\",\"message\":\"Executing script FiestaMes-Script using dedicated-process strategy\",\"timestamp\":1610492815132},{\"level\":\"debug\",\"message\":\"null\",\"timestamp\":1610492815877},{\"level\":\"debug\",\"message\":\"Base url not specified, skipping its injection.\",\"timestamp\":1610492815883},{\"level\":\"debug\",\"message\":\"Rendering engine handlebars using dedicated-process strategy\",\"timestamp\":1610492815900},{\"level\":\"debug\",\"message\":\"Compiled template not found in the cache, compiling\",\"timestamp\":1610492816167},{\"level\":\"debug\",\"message\":\"Executing recipe chrome-pdf\",\"timestamp\":1610492816184},{\"level\":\"debug\",\"message\":\"Converting with chrome HeadlessChrome/79.0.3945.0 using dedicated-process strategy\",\"timestamp\":1610492817193},{\"level\":\"debug\",\"message\":\"Page request: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/fa723c11-cecd-4591-803e-5a26a7e2ede6-chrome-pdf.html\",\"timestamp\":1610492817672},{\"level\":\"debug\",\"message\":\"Page request finished: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/fa723c11-cecd-4591-803e-5a26a7e2ede6-chrome-pdf.html\",\"timestamp\":1610492817696},{\"level\":\"debug\",\"message\":\"Page request: GET (stylesheet) https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1610492817706},{\"level\":\"debug\",\"message\":\"Page request finished: GET (stylesheet) 200 https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1610492819261},{\"level\":\"debug\",\"message\":\"Running chrome with params {\\\"printBackground\\\":true,\\\"margin\\\":{}}\",\"timestamp\":1610492819339},{\"level\":\"debug\",\"message\":\"Skipping storing report.\",\"timestamp\":1610492819846},{\"level\":\"info\",\"message\":\"Rendering request 1 finished in 4731 ms\",\"timestamp\":1610492819847}]},{\"template\":{\"shortid\":\"BkganfeHzP\"},\"timestamp\":1597510257766,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 7 (user: null)\",\"timestamp\":1597510255684},{\"level\":\"info\",\"message\":\"Rendering template { name: ofertas, recipe: chrome-pdf, engine: handlebars, preview: false }\",\"timestamp\":1597510255687},{\"level\":\"debug\",\"message\":\"Inline data specified.\",\"timestamp\":1597510255688},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1597510255691},{\"level\":\"debug\",\"message\":\"Executing script ofertas-script using dedicated-process strategy\",\"timestamp\":1597510255692},{\"level\":\"debug\",\"message\":\"null\",\"timestamp\":1597510256204},{\"level\":\"debug\",\"message\":\"Base url not specified, skipping its injection.\",\"timestamp\":1597510256210},{\"level\":\"debug\",\"message\":\"Rendering engine handlebars using dedicated-process strategy\",\"timestamp\":1597510256212},{\"level\":\"debug\",\"message\":\"Compiled template not found in the cache, compiling\",\"timestamp\":1597510256397},{\"level\":\"debug\",\"message\":\"Executing recipe chrome-pdf\",\"timestamp\":1597510256413},{\"level\":\"debug\",\"message\":\"Converting with chrome HeadlessChrome/79.0.3945.0 using dedicated-process strategy\",\"timestamp\":1597510256549},{\"level\":\"debug\",\"message\":\"Page request: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/d62f8a42-ec51-4a6f-a2d9-223b25976b35-chrome-pdf.html\",\"timestamp\":1597510256665},{\"level\":\"debug\",\"message\":\"Page request finished: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/d62f8a42-ec51-4a6f-a2d9-223b25976b35-chrome-pdf.html\",\"timestamp\":1597510256679},{\"level\":\"debug\",\"message\":\"Page request: GET (stylesheet) https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1597510256680},{\"level\":\"debug\",\"message\":\"Page request finished: GET (stylesheet) 200 https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1597510257361},{\"level\":\"debug\",\"message\":\"Running chrome with params {\\\"printBackground\\\":true,\\\"margin\\\":{}}\",\"timestamp\":1597510257401},{\"level\":\"debug\",\"message\":\"Skipping storing report.\",\"timestamp\":1597510257765},{\"level\":\"info\",\"message\":\"Rendering request 7 finished in 2081 ms\",\"timestamp\":1597510257765}]},{\"template\":{\"shortid\":\"Hkev7gvMMw\"},\"timestamp\":1597510210868,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 6 (user: null)\",\"timestamp\":1597510208335},{\"level\":\"info\",\"message\":\"Rendering template { name: top-contrataciones, recipe: chrome-pdf, engine: handlebars, preview: false }\",\"timestamp\":1597510208336},{\"level\":\"debug\",\"message\":\"Inline data specified.\",\"timestamp\":1597510208337},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1597510208337},{\"level\":\"debug\",\"message\":\"Executing script top-script using dedicated-process strategy\",\"timestamp\":1597510208339},{\"level\":\"debug\",\"message\":\"null\",\"timestamp\":1597510208866},{\"level\":\"debug\",\"message\":\"Base url not specified, skipping its injection.\",\"timestamp\":1597510208871},{\"level\":\"debug\",\"message\":\"Rendering engine handlebars using dedicated-process strategy\",\"timestamp\":1597510208873},{\"level\":\"debug\",\"message\":\"Compiled template not found in the cache, compiling\",\"timestamp\":1597510209082},{\"level\":\"debug\",\"message\":\"Executing recipe chrome-pdf\",\"timestamp\":1597510209098},{\"level\":\"debug\",\"message\":\"Converting with chrome HeadlessChrome/79.0.3945.0 using dedicated-process strategy\",\"timestamp\":1597510209361},{\"level\":\"debug\",\"message\":\"Page request: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/c5551204-cba7-4dff-9940-60e09b08e0ad-chrome-pdf.html\",\"timestamp\":1597510209467},{\"level\":\"debug\",\"message\":\"Page request finished: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/c5551204-cba7-4dff-9940-60e09b08e0ad-chrome-pdf.html\",\"timestamp\":1597510209493},{\"level\":\"debug\",\"message\":\"Page request: GET (stylesheet) https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1597510209499},{\"level\":\"debug\",\"message\":\"Page request finished: GET (stylesheet) 200 https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1597510210396},{\"level\":\"debug\",\"message\":\"Running chrome with params {\\\"printBackground\\\":true,\\\"margin\\\":{}}\",\"timestamp\":1597510210435},{\"level\":\"debug\",\"message\":\"Skipping storing report.\",\"timestamp\":1597510210867},{\"level\":\"info\",\"message\":\"Rendering request 6 finished in 2534 ms\",\"timestamp\":1597510210868}]},{\"template\":{\"shortid\":\"Bkg6rlUzfw\"},\"timestamp\":1597510030838,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 5 (user: null)\",\"timestamp\":1597510028198},{\"level\":\"info\",\"message\":\"Rendering template { name: ingresos, recipe: chrome-pdf, engine: handlebars, preview: false }\",\"timestamp\":1597510028200},{\"level\":\"debug\",\"message\":\"Inline data specified.\",\"timestamp\":1597510028200},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1597510028201},{\"level\":\"debug\",\"message\":\"Executing script ingresos-script using dedicated-process strategy\",\"timestamp\":1597510028201},{\"level\":\"debug\",\"message\":\"null\",\"timestamp\":1597510028737},{\"level\":\"debug\",\"message\":\"Base url not specified, skipping its injection.\",\"timestamp\":1597510028741},{\"level\":\"debug\",\"message\":\"Rendering engine handlebars using dedicated-process strategy\",\"timestamp\":1597510028743},{\"level\":\"debug\",\"message\":\"Compiled template not found in the cache, compiling\",\"timestamp\":1597510028942},{\"level\":\"debug\",\"message\":\"Executing recipe chrome-pdf\",\"timestamp\":1597510028962},{\"level\":\"debug\",\"message\":\"Converting with chrome HeadlessChrome/79.0.3945.0 using dedicated-process strategy\",\"timestamp\":1597510029272},{\"level\":\"debug\",\"message\":\"Page request: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/c5bdb9fc-ab48-4f8b-ac49-9bc6c5044029-chrome-pdf.html\",\"timestamp\":1597510029381},{\"level\":\"debug\",\"message\":\"Page request finished: GET (document) file:///C:/Users/Personal/AppData/Local/Temp/jsreport/autocleanup/c5bdb9fc-ab48-4f8b-ac49-9bc6c5044029-chrome-pdf.html\",\"timestamp\":1597510029396},{\"level\":\"debug\",\"message\":\"Page request: GET (stylesheet) https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1597510029398},{\"level\":\"debug\",\"message\":\"Page request finished: GET (stylesheet) 200 https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\",\"timestamp\":1597510030299},{\"level\":\"debug\",\"message\":\"Running chrome with params {\\\"printBackground\\\":true,\\\"margin\\\":{}}\",\"timestamp\":1597510030342},{\"level\":\"debug\",\"message\":\"Skipping storing report.\",\"timestamp\":1597510030837},{\"level\":\"info\",\"message\":\"Rendering request 5 finished in 2639 ms\",\"timestamp\":1597510030837}]}]","creationDate":{"$$date":1596605941847},"modificationDate":{"$$date":1610493250026},"shortid":"NIlcYjA","_id":"tehay6hqu15X3LME","$entitySet":"settings","$$etag":1610493250031}
{"key":"failedRequestsLog","value":"[{\"template\":{\"shortid\":\"Hkev7gvMMw\"},\"timestamp\":1610493143642,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 3 (user: null)\",\"timestamp\":1610493143119},{\"level\":\"info\",\"message\":\"Rendering template { name: top-productos, recipe: chrome-pdf, engine: handlebars, preview: true }\",\"timestamp\":1610493143120},{\"level\":\"debug\",\"message\":\"Data item not defined for this template.\",\"timestamp\":1610493143121},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1610493143122},{\"level\":\"debug\",\"message\":\"Executing script top-script using dedicated-process strategy\",\"timestamp\":1610493143137}],\"error\":{\"message\":\"Cannot read property 'rows' of undefined\",\"stack\":\"TypeError: Cannot read property 'rows' of undefined\\n    at Proxy.<anonymous> (evaluate-user-script.js:23:20)\\n    at Object.base.apply (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\vm2\\\\lib/contextify.js:166:34)\\n    at Query.handleError (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg\\\\lib\\\\query.js:146:19)\\n    at Connection.connectedErrorMessageHandler (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg\\\\lib\\\\client.js:233:17)\\n    at Connection.emit (events.js:315:20)\\n    at C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg\\\\lib\\\\connection.js:109:10\\n    at Parser.parse (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg-protocol\\\\dist\\\\parser.js:40:17)\\n    at Socket.<anonymous> (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg-protocol\\\\dist\\\\index.js:8:42)\\n    at Socket.emit (events.js:315:20)\\n    at addChunk (internal/streams/readable.js:309:12)\"}},{\"template\":{\"shortid\":\"Hkev7gvMMw\"},\"timestamp\":1610493061479,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 2 (user: null)\",\"timestamp\":1610493060917},{\"level\":\"info\",\"message\":\"Rendering template { name: top-productos, recipe: chrome-pdf, engine: handlebars, preview: true }\",\"timestamp\":1610493060917},{\"level\":\"debug\",\"message\":\"Data item not defined for this template.\",\"timestamp\":1610493060918},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1610493060919},{\"level\":\"debug\",\"message\":\"Executing script top-script using dedicated-process strategy\",\"timestamp\":1610493060931}],\"error\":{\"message\":\"Cannot read property 'rows' of undefined\",\"stack\":\"TypeError: Cannot read property 'rows' of undefined\\n    at Proxy.<anonymous> (evaluate-user-script.js:23:20)\\n    at Object.base.apply (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\vm2\\\\lib/contextify.js:166:34)\\n    at Query.handleError (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg\\\\lib\\\\query.js:146:19)\\n    at Connection.connectedErrorMessageHandler (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg\\\\lib\\\\client.js:233:17)\\n    at Connection.emit (events.js:315:20)\\n    at C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg\\\\lib\\\\connection.js:109:10\\n    at Parser.parse (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg-protocol\\\\dist\\\\parser.js:40:17)\\n    at Socket.<anonymous> (C:\\\\Users\\\\Personal\\\\Documents\\\\GitHub\\\\jsreportATF\\\\node_modules\\\\pg-protocol\\\\dist\\\\index.js:8:42)\\n    at Socket.emit (events.js:315:20)\\n    at addChunk (internal/streams/readable.js:309:12)\"}},{\"template\":{\"shortid\":\"BkganfeHzP\"},\"timestamp\":1597472629048,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 27 (user: null)\",\"timestamp\":1597472628581},{\"level\":\"info\",\"message\":\"Rendering template { name: ofertas, recipe: chrome-pdf, engine: handlebars, preview: true }\",\"timestamp\":1597472628581},{\"level\":\"debug\",\"message\":\"Inline data specified.\",\"timestamp\":1597472628582},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1597472628582},{\"level\":\"debug\",\"message\":\"Executing script ofertas-script using dedicated-process strategy\",\"timestamp\":1597472628583}],\"error\":{\"message\":\"Error while executing user script. min is not defined. Error on line 14:363.\\n\\n  12 | db.connect();\\n  13 | \\n> 14 |   let query = \\\"select p.nombre_producto as nombre, p.precio_producto as original, pp.precio_unitario_producto_presupuesto as venta from producto p inner join producto_presupuesto pp on p.id_producto = pp.producto_id_producto where pp.presupuesto_id_presupuesto in (select presupuesto_id_presupuesto from contrato where fecha_evento_contrato between (Timestamp'\\\"+min+\\\"') and (Timestamp'\\\"+max+\\\"')) and pp.precio_unitario_producto_presupuesto < p.precio_producto union select s.nombre_servicio as nombre, s.precio_servicio as original, sp.precio_unitario_servicio_presupuesto as venta from servicio s inner join servicio_presupuesto sp on s.id_servicio = sp.servicio_id_servicio where sp.presupuesto_id_presupuesto in (select presupuesto_id_presupuesto from contrato where fecha_evento_contrato between (Timestamp'\\\"+min+\\\"') and (Timestamp'\\\"+max+\\\"')) and sp.precio_unitario_servicio_presupuesto < s.precio_servicio\\\";\\n     |                                                                                                                                                                                                                                                                                                                                                                           ^\\n  15 | \\n  16 |   \\n  17 |   db.query(query, (err, result) => {\\n\\n\",\"stack\":\"ReferenceError: min is not defined\\n    at Object.beforeRender (evaluate-user-script.js:14:363)\\n    at Object.__runBefore (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-scripts\\\\lib\\\\scriptEvalChild.js:141:26)\\n    at Object.base.apply (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\vm2\\\\lib/contextify.js:469:32)\\n    at evaluate-user-script.js:28:1\\n    at Script.runInContext (vm.js:141:18)\\n    at VM.run (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\vm2\\\\lib\\\\main.js:219:62)\\n    at run (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-core\\\\lib\\\\render\\\\safeSandbox.js:171:19)\\n    at scriptEvalChild (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-scripts\\\\lib\\\\scriptEvalChild.js:200:5)\\n    at scriptExecModuleWrapper (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-core\\\\lib\\\\scriptExecModuleWrapper.js:29:26)\\n    at process.<anonymous> (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\script-manager\\\\lib\\\\worker-processes.js:66:36)\"}},{\"template\":{\"shortid\":\"BkganfeHzP\"},\"timestamp\":1597472605763,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 26 (user: null)\",\"timestamp\":1597472605263},{\"level\":\"info\",\"message\":\"Rendering template { name: ofertas, recipe: chrome-pdf, engine: handlebars, preview: true }\",\"timestamp\":1597472605265},{\"level\":\"debug\",\"message\":\"Inline data specified.\",\"timestamp\":1597472605266},{\"level\":\"debug\",\"message\":\"Resources not defined for this template.\",\"timestamp\":1597472605267},{\"level\":\"debug\",\"message\":\"Executing script ofertas-script using dedicated-process strategy\",\"timestamp\":1597472605267}],\"error\":{\"message\":\"Error while executing user script. min is not defined. Error on line 14:363.\\n\\n  12 | db.connect();\\n  13 | \\n> 14 |   let query = \\\"select p.nombre_producto as nombre, p.precio_producto as original, pp.precio_unitario_producto_presupuesto as venta from producto p inner join producto_presupuesto pp on p.id_producto = pp.producto_id_producto where pp.presupuesto_id_presupuesto in (select presupuesto_id_presupuesto from contrato where fecha_evento_contrato between (Timestamp'\\\"+min+\\\"') and (Timestamp'\\\"+max+\\\"')) and pp.precio_unitario_producto_presupuesto < p.precio_producto union select s.nombre_servicio as nombre, s.precio_servicio as original, sp.precio_unitario_servicio_presupuesto as venta from servicio s inner join servicio_presupuesto sp on s.id_servicio = sp.servicio_id_servicio where sp.presupuesto_id_presupuesto in (select presupuesto_id_presupuesto from contrato where fecha_evento_contrato between (Timestamp'\\\"+min+\\\"') and (Timestamp'\\\"+max+\\\"')) and sp.precio_unitario_servicio_presupuesto < s.precio_servicio\\\";\\n     |                                                                                                                                                                                                                                                                                                                                                                           ^\\n  15 |   \\n  16 |    \\n  17 |   query += \\\" group by mes order by mes\\\";\\n\\n\",\"stack\":\"ReferenceError: min is not defined\\n    at Object.beforeRender (evaluate-user-script.js:14:363)\\n    at Object.__runBefore (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-scripts\\\\lib\\\\scriptEvalChild.js:141:26)\\n    at Object.base.apply (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\vm2\\\\lib/contextify.js:469:32)\\n    at evaluate-user-script.js:30:1\\n    at Script.runInContext (vm.js:141:18)\\n    at VM.run (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\vm2\\\\lib\\\\main.js:219:62)\\n    at run (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-core\\\\lib\\\\render\\\\safeSandbox.js:171:19)\\n    at scriptEvalChild (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-scripts\\\\lib\\\\scriptEvalChild.js:200:5)\\n    at scriptExecModuleWrapper (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-core\\\\lib\\\\scriptExecModuleWrapper.js:29:26)\\n    at process.<anonymous> (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\script-manager\\\\lib\\\\worker-processes.js:66:36)\"}},{\"template\":{},\"timestamp\":1597441788714,\"logs\":[{\"level\":\"info\",\"message\":\"Starting rendering request 23 (user: null)\",\"timestamp\":1597441788712}],\"error\":{\"message\":\"Template must contains _id, shortid or content attribute\",\"stack\":\"Error: Template must contains _id, shortid or content attribute\\n    at module.exports (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-core\\\\lib\\\\util\\\\createError.js:11:13)\\n    at Reporter.createError (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-core\\\\lib\\\\reporter.js:332:12)\\n    at AsyncFunction.<anonymous> (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\jsreport-templates\\\\lib\\\\templates.js:36:22)\\n    at C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\lib\\\\listenerCollection.js:171:33\\n    at C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\lib\\\\listenerCollection.js:151:16\\n    at tryCatcher (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\util.js:16:23)\\n    at Promise._settlePromiseFromHandler (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\promise.js:512:31)\\n    at Promise._settlePromise (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\promise.js:569:18)\\n    at Promise._settlePromise0 (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\promise.js:614:10)\\n    at Promise._settlePromises (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\promise.js:693:18)\\n    at Async._drainQueue (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\async.js:133:16)\\n    at Async._drainQueues (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\async.js:143:10)\\n    at Immediate.Async.drainQueues (C:\\\\Users\\\\Personal\\\\documents\\\\github\\\\jsreportATF\\\\node_modules\\\\listener-collection\\\\node_modules\\\\bluebird\\\\js\\\\release\\\\async.js:17:14)\\n    at processImmediate (internal/timers.js:456:21)\"}}]","creationDate":{"$$date":1596606191958},"modificationDate":{"$$date":1610493145626},"shortid":"F3HoEtc","_id":"THAq4snsAMiGObba","$entitySet":"settings","$$etag":1610493145632}
{"key":"beta-pptx-informed","value":"true","creationDate":{"$$date":1596670568024},"modificationDate":{"$$date":1596670568024},"shortid":"XQU9Qrk","_id":"sI8iu7OXsq4j7sbo","$entitySet":"settings","$$etag":1596670568028}
{"key":"office-preview-informed","value":"true","creationDate":{"$$date":1596670568026},"modificationDate":{"$$date":1596670568026},"shortid":"uFba30I","_id":"XcubomlIa4wVQHBL","$entitySet":"settings","$$etag":1596670568031}
